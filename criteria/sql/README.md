# Criteria Adapter for SQL databases.

This is a minimal implementation of criteria support for SQL databases, supporting the basic
CRUD operations of entities persistend in single tables. It is intended to be a lightweight
alternative to other ORMs but does not compete directly or support all the features of SQL databases.
There are no dependencies in this implementation beyond basic JDBC support and Jackson.

## General approach

The approach is a pretty straightforward mapping from Criteria APIs to the underlying
JDBC concepts. A Criteria operation is converted into a SQL command (in `commands`) which
call to the SQL compiler to generate a SQL statement corresponding to the operation, and
which also sets up mapping from supplied data to the underlying named parameters. When
statements are executed, the parameters are converted, then bound into position in
within `FluentStatement`. Inserts and updates of entities are done in a batch.

### Annotations

There are some SQL-specific annotations supported, which help with mapping to the
underlying tables.

* `SQL.Table` - specify the target table for an entity
* `SQL.Column` - map a property to a column and optionally a column type

### Type conversion

Object and properties are converted to underlying SQL data types using classes
in the `conversion` package. The default `RowMapper` uses `jackson` to convert
from a row to objects, with the jackson annotations having an impact on the mapping.
Type conversion happens my looking up registered converters in `TypeConverters`. All
conversion lookups support registration of custom conversions.

## Limitations

- Watch,GetByKey,DeleteByKey,Upsert are not implemented
- Handling of autogenerated keys and returning keys is not supported
- Joins, sub-graphs etc. are not supported.
- Projections, aggregations, groupby etc are not supported
